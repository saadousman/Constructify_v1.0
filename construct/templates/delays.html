{% extends 'base.html' %}


{% block title%}
Delays
{%endblock%}


{% block content%}


{% include 'includes/delayModal.html' %}



<div class="row" style="margin-top:20px;margin-left:20px">
    <div class="col-11">
        <h3>Delay Records</h3>
        <p>Reporting and Managing Delays</p>
        <br>
        <button type="button" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#exampleModal" data-whatever="@mdo">Create New Record</button>
        <br><br><br>
        

        <table class="table table-striped table-dark">

           

            <thead>
                <tr>
                    <!-- Your Columns HERE -->
                    <th scope="col">ID</th>
                    <th scope="col">Type</th>
                    <th scope="col">Description</th>
                    <th scope="col">Severity</th>
                    <th scope="col">Phase</th>
                    <th scope="col">EOT</th>
                    <th scope="col">Reported Date?</th>
                </tr>
            </thead>
            <tbody>
                <!-- Your rows inside the table HERE: -->
                {% for delay in delays %}
                {% include 'includes/newdeletemodal.html'  %}
              
                <tr>
                    <td>{{delay.id}}</td>
                    <td>{{delay.type}}</td>
                    <td width="30%">{{delay.description}}</td>

                <!-- Change Badge color based on Delay Deverity -->
                    {% if 'Major' in delay.severity %}
                    <td><span class="badge badge-pill badge-danger">{{delay.severity}}</span></td>
                    {% endif %}
                    {% if 'Medium' in delay.severity %}
                    <td><span class="badge badge-pill badge-warning">{{delay.severity}}</span></td>
                    {% endif %}
                    {% if 'Minor' in delay.severity %}
                    <td><span class="badge badge-pill badge-info">{{delay.severity}}</span></td>
                    {% endif %}
                    
                    <td>{{delay.phase}}</td>
                    <td width="9%">{{delay.delayed_days}} days</td>
                    <td>{{delay.date}}</td>
                   
                    <td>
                       
                      
                        
                        <button type="button" class="btn btn-outline-danger" data-toggle="modal" data-target="#deletedelaymodal" data-whatever="@mdo">Delete Record</button>
                        
                        
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>


    </div>
    

</div>

</div>

{% endblock %}